<%= render "shared/header" %>

<div class="user__shoe__over__all"><%#メイン全体%>

  <div class="user__show__main"><%#フレックスボックス用クラス%>

      <div class="user__content__left"><%#左コンテンツ%>
      <div class="user__content__left__area">
      <div class="user__content__left__area__inner">
      <div class="fix">
        <img src=<%= @users.profile_image.url %> class = "profile__image"><div class="user__show__nickname"><%= "#{@users.nickname}" %></div><br>
        <p>profile</p>
         <div class="user__show__profile"><%= @users.profile %></div><br>

         <% unless current_user.id == @users %><%#細かい条件分岐入れる%>
            <div class="d-flex"><%#左コンテンツフォロワー%>
            <ul class="user__show__follow__area">
            <li>
             <%#= link_to follows_user_path(@user) do %>
            <h6>フォロー<%#= @following_users.count %></h6>
            <%# end %>
            </li>
            <li>
            <%#= link_to followers_user_path(@user) do %>
            <h6>フォロワー<%#= @follower_users.count %></h6>
              <%# end %>
              </li>
              </ul>
            </div><%#左コンテンツフォロワー%>
            <% end %>


            <% if current_user.id == @users %>
              <%# if current_user.following?(@user) %>
                 <%#= link_to 'フォロー外す', user_relationships_path(@user.id), method: :delete, class: "btn-sm btn-danger" %>
               <%# else %>
                  <%#= link_to 'フォローする', user_relationships_path(@user.id), method: :POST, class:"btn-sm btn-success" %>
               <%# end %>
            <% end %>

   <%#表示の条件分岐実装する。%>
   <% if current_user.id == @users.id %>
      <%= link_to "#{current_user.nickname}情報変更",  user_registration_path, method: :patch, class: "item-red-btn" %>
      <%= link_to "Delete Account",  user_registration_path, method: :delete, class:"item-destroy", id: "delete-confirmation",onclick: "return deleteCheck()" %><br>
    <% end %>
     <%= link_to "トップページに戻る", root_path, class: 'btn'%>
    </div>
    </div>
    </div>
  </div><%#左コンテンツ%>


<%#右コンテンツ%>
  <div class="user__content__right">
  <div class="my__post__area"><%#右コンテンツ投稿一覧%>
  <ul>
<% @post.each do |post| %>
<li class="user__show__index">
<%= post.title %><br>
<%= image_tag post.image, class:"user__show_image" %><br>
<%= l post.created_at %><br>
<%=  post.content %>
</li>
<% end %>
</ul>
</div><%#右コンテンツ投稿一覧%>
  </div><%#右コンテンツ%>


</div><%#フレックスボックス用クラス%>


</div><%#メイン全体%>

<%= render "shared/footer" %>